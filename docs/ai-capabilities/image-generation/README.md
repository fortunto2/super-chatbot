# –°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

1. **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç AI (`configure-image-generation.ts`)** - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –æ—Ç —á–∞—Ç-–±–æ—Ç–∞ –∏ —Å–æ–∑–¥–∞–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
2. **Hybrid API –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (`generate-image-hybrid.ts`)** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç WebSocket + polling fallback –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
3. **WebSocket —Å–∏—Å—Ç–µ–º–∞** - –ø–æ–ª—É—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (—Å fallback –Ω–∞ polling)
4. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç ImageEditor** - UI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
5. **–°–∏—Å—Ç–µ–º–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤** - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ—Ç–æ–∫–æ–≤—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

## üÜï Hybrid Solution (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥**: –°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç hybrid –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π —Å–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —á–µ—Ä–µ–∑ WebSocket, –∞ –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ polling. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç 100% –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [Hybrid Solution Guide](./hybrid-solution.md)

## –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —á–∞—Ç
2. AI –≤—ã–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `configureImageGeneration`
3. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —á–µ—Ä–µ–∑ `createDocument`
4. –°–µ—Ä–≤–µ—Ä (`artifacts/image/server.ts`) –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
5. –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ `wss://editor.superduperai.co/api/v1/ws/project.{projectId}`
6. WebSocket –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
7. –ö–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. API –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

- **–§–∞–π–ª**: `lib/ai/api/generate-image.ts`
- **–§—É–Ω–∫—Ü–∏—è**: `generateImage()`
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ –±—ç–∫–µ–Ω–¥ `https://editor.superduperai.co/api/v1/project/image`
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `projectId` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ WebSocket

### 2. WebSocket –∫–ª–∏–µ–Ω—Ç

- **–§–∞–π–ª**: `lib/ai/api/websocket-client.ts`
- **–ö–ª–∞—Å—Å**: `ImageGenerationWebSocket`
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ `wss://editor.superduperai.co/ws/project/{projectId}`
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å—ã: `pending`, `processing`, `completed`, `failed`

### 3. React —Ö—É–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

- **–§–∞–π–ª**: `hooks/use-image-generation.ts`
- **–•—É–∫**: `useImageGeneration()`
- –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º

### 4. –ê—Ä—Ç–µ—Ñ–∞–∫—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

- **–°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å**: `artifacts/image/server.ts`
- **–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å**: `artifacts/image/client.tsx`
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `components/image-editor.tsx`

### 5. AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

- **–§–∞–π–ª**: `lib/ai/tools/configure-image-generation.ts`
- –°–æ–∑–¥–∞–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è**

   ```typescript
   // AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç
   configureImageGeneration.execute({
     prompt: "A beautiful sunset",
     style: "cinematic",
   });
   ```

2. **–°–æ–∑–¥–∞–µ—Ç—Å—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç**

   ```typescript
   // –ê—Ä—Ç–µ—Ñ–∞–∫—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
   {
     type: 'artifact',
     kind: 'image',
     content: JSON.stringify({
       status: 'pending',
       prompt: "A beautiful sunset",
       settings: { style, resolution, model, shotSize }
     })
   }
   ```

3. **–°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é**

   ```typescript
   // artifacts/image/server.ts
   const result = await generateImage(
     style,
     resolution,
     prompt,
     model,
     shotSize
   );
   // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç projectId
   ```

4. **–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ WebSocket**

   ```typescript
   // components/image-editor.tsx
   imageGeneration.generateImageAsync(...params);
   // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ WebSocket –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
   ```

5. **–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**
   - –°—Ç–∞—Ç—É—Å: pending ‚Üí processing ‚Üí completed/failed
   - –ü—Ä–æ–≥—Ä–µ—Å—Å: 0% ‚Üí 100%
   - –§–∏–Ω–∞–ª—å–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ URL

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ AI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

```typescript
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
await configureImageGeneration.execute({
  prompt: "A majestic mountain landscape",
});

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
await configureImageGeneration.execute({
  prompt: "A futuristic city",
  style: "cinematic",
  resolution: "1920x1080",
  model: "flux-pro",
  shotSize: "long-shot",
});
```

### –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—É–∫–∞

```typescript
function MyComponent() {
  const imageGeneration = useImageGeneration();

  const handleGenerate = async () => {
    await imageGeneration.generateImageAsync(
      { id: "flux_steampunk", label: "Steampunk" }, // style
      { width: 1024, height: 1024, label: "1024x1024" }, // resolution
      "A steampunk robot", // prompt
      { id: "flux-dev", label: "Flux Dev" }, // model
      { id: "close-up", label: "Close-Up" } // shotSize
    );
  };

  return (
    <div>
      <button onClick={handleGenerate}>Generate Image</button>
      {imageGeneration.isGenerating && (
        <div>Progress: {imageGeneration.progress}%</div>
      )}
      {imageGeneration.imageUrl && (
        <img
          src={imageGeneration.imageUrl}
          alt="Generated"
        />
      )}
    </div>
  );
}
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç–∏–ª–∏

–°—Ç–∏–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ API `getStyles()` –∏–∑ `lib/ai/api/get-styles.ts`

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

```typescript
const RESOLUTIONS = [
  { width: 1024, height: 1024, label: "1024x1024", aspectRatio: "1:1" },
  { width: 1920, height: 1080, label: "1920√ó1080", aspectRatio: "16:9" },
  // ... –¥—Ä—É–≥–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
];
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏

```typescript
const IMAGE_MODELS = [
  { id: "flux-dev", label: "Flux Dev" },
  { id: "flux-pro", label: "Flux Pro Ultra 1.1" },
];
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª `test-image-generation.html`:

```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –≤ –±—Ä–∞—É–∑–µ—Ä–µ
open test-image-generation.html
```

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:

- –û—à–∏–±–∫–∏ —Å–µ—Ç–∏
- –¢–∞–π–º–∞—É—Ç—ã WebSocket
- –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–¥–æ 5 –ø–æ–ø—ã—Ç–æ–∫)
- –û—à–∏–±–∫–∏ API –±—ç–∫–µ–Ω–¥–∞

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:

- –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç —Å WebSocket –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ–º
- –°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç —Å base64 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ (–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –£–º–µ–Ω—å—à–µ–Ω —Ä–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –≤ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–µ

- ‚ùå **–ë—ã–ª–æ**: –ë–æ–ª—å—à–æ–π JSON —Å availableResolutions, availableStyles –∏ –¥—Ä—É–≥–∏–º–∏ –º–∞—Å—Å–∏–≤–∞–º–∏ –ø–µ—Ä–µ–¥–∞–≤–∞–ª—Å—è –≤ –Ω–∞—á–∞–ª—å–Ω–æ–º –∫–æ–Ω—Ç–µ–Ω—Ç–µ
- ‚úÖ **–°—Ç–∞–ª–æ**: –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ —Å–µ—Ä–≤–µ—Ä–∞ –∫–∞–∫ —Ä–∞–Ω—å—à–µ, –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π JSON –≤ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–µ

### 2. –ó–∞–º–µ–Ω–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

- ‚ùå **–ë—ã–ª–æ**: –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —Å –ø—Ä–æ—Ü–µ–Ω—Ç–∞–º–∏ (–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç —Å WebSocket)
- ‚úÖ **–°—Ç–∞–ª–æ**: –°–∫–µ–ª–µ—Ç–æ–Ω-–∑–∞–≥—Ä—É–∑–∫–∞, –±–æ–ª–µ–µ –ø–æ–¥—Ö–æ–¥—è—â–∞—è –¥–ª—è WebSocket

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç–∏–Ω–æ–∫

- ‚ùå **–ë—ã–ª–æ**: –ö–∞—Ä—Ç–∏–Ω–∫–∞ –Ω–µ –ø–æ—è–≤–ª—è–ª–∞—Å—å –≤ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–µ –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- ‚úÖ **–°—Ç–∞–ª–æ**: –ê—Ä—Ç–µ—Ñ–∞–∫—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç imageUrl –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–æ—Ç–æ–≤—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É

### 4. –£–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ –∫–æ–Ω—Å–æ–ª—å–Ω—ã–µ –ª–æ–≥–∏

- ‚ùå **–ë—ã–ª–æ**: –ú–Ω–æ–≥–æ console.log –≤–æ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- ‚úÖ **–°—Ç–∞–ª–æ**: –ú–∏–Ω–∏–º—É–º –ª–æ–≥–æ–≤, —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—à–∏–±–æ–∫

### 5. ID –ø—Ä–æ–µ–∫—Ç–∞ –∫–∞–∫ ID —á–∞—Ç–∞

- ‚úÖ **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ**: chatId –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ projectId –≤–µ–∑–¥–µ –≤ —Å–∏—Å—Ç–µ–º–µ

## –ü–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** ‚Üí AI –≤—ã–∑—ã–≤–∞–µ—Ç `configureImageGeneration`
2. **–°–æ–∑–¥–∞–µ—Ç—Å—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç** —Å –Ω–∞—á–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º `pending`
3. **–°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å** –∑–∞–ø—É—Å–∫–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
4. **ImageEditor** –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ WebSocket –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∫–µ–ª–µ—Ç–æ–Ω –∑–∞–≥—Ä—É–∑–∫–∏
5. **WebSocket –ø–æ–ª—É—á–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç** ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ —Ö—É–∫–µ
6. **–ê—Ä—Ç–µ—Ñ–∞–∫—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–æ—Ç–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
7. **–ö–∞—Ä—Ç–∏–Ω–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ —á–∞—Ç** —á–µ—Ä–µ–∑ experimental_attachments

## –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

- `artifacts/image/server.ts` - —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞
- `artifacts/image/client.tsx` - –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –æ–±–µ—Ä—Ç–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞
- `components/image-editor.tsx` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
- `hooks/use-image-generation.ts` - —Ö—É–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- `hooks/use-image-websocket.ts` - WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- `hooks/use-image-event-handler.ts` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π WebSocket
